<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
  Save Record
</button>
<a  class="btn btn-primary"  href="/reports">Reports</a>
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#IncomestatementModal">
  View Income Statement
</button>



<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Save Record</h5>
       
      </div>
      <form method="post" action="/accounts" >
      <div class="modal-body">
       
          <div class="form-group">
            <label for="exampleFormControlInput1">Amount</label>
            <input type="text" class="form-control" id="amount" required name="amount" placeholder="enter amount">
          </div>
          <div class="form-group">
              <label for="exampleFormControlInput2">Date</label>
              <input type="date" class="form-control" id="date" required name="date" placeholder="enter date">
            </div>
          <div class="form-group">
              <label for="exampleFormControlInput3">Tag</label>
              <input type="text" class="form-control" id="tag" required name="tag" placeholder="enter tag">
          </div>
          <div class="form-group">
            <label for="exampleFormControlSelect4">Type</label>
            <select class="form-control" id="exampleFormControlSelect1" required name="type">
              <option value="1">Income</option>
              <option value="2">Expense</option>
         
            </select>
          </div>

        
       
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button class="btn btn-outline-primary" type="submit" >Save</button>
      </div>
    </form>
    </div>
  </div>
</div>


<!-- IncomeStatement -->
<div class="modal fade" id="IncomestatementModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Get Income Statement</h5>
       
      </div>
      <form method="post" action="/getincomestatement" >
      <div class="modal-body">
       
          <div class="form-group">
            <label for="exampleFormControlInput1">From</label>
            <input type="date" class="form-control" id="from" required name="from" placeholder="enter amount">
          </div>
          <div class="form-group">
              <label for="exampleFormControlInput2">To</label>
              <input type="date" class="form-control" id="to" required name="to" placeholder="enter date">
            </div>
      

        
       
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button class="btn btn-outline-primary" type="submit" >View</button>
      </div>
    </form>
    </div>
  </div>
</div>



<div class="collapse" id="collapseExample">
  <div class="container m-4 card">
    
</div>
 
</div>








<div>
  <table id="myTable" class="display">
    <thead>
        <tr>
            <th>Date</th>
            <th>Type</th>
            <th>Account</th>
            <th>Amount (Ksh)</th>

        </tr>
    </thead>
    <tbody>
      <% accounts.forEach(element => { %>
        <tr>
        
            <td><%= element.date.toDateString() %></td>

            <% if (element.type == "1") { %>
              <td>Income</td>
            <% } else{ %>
              <td>Expense</td>
            <% } %>
            <td><%= element.tag %></td>
            <td><%= element.amount %></td>
           
           
        </tr>
        <% }) %>
    </tbody>
</table>



<script>

$(document).ready( function () {
    $('#myTable').DataTable({
      dom: 'Bfrtip',

      
      
      "columnDefs": [ { type: 'date', 'targets': [0] } ],
      "order": [[0, 'desc']]
    });
} );
</script>